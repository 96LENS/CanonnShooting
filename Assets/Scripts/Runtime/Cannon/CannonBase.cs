using System.Collections;
using System.Collections.Generic;
using UnityEngine;

using DynamisFramework.Utility;

namespace CannonShooting
{
    /// <summary>
    /// キャノンの基礎クラス
    /// </summary>
    public class CannonBase : ICannon, ILifeSycleBase
    {
        //=====================================================================================================================
        // 内部クラス・列挙型定義
        //=====================================================================================================================

        //=====================================================================================================================
        // 定数
        //=====================================================================================================================

        //=====================================================================================================================
        // 変数
        //=====================================================================================================================
        protected string _id = string.Empty;
        protected GameObject _root = null;
        protected Animator _animator = null;
        protected Barrel _barrel = null;
        protected LowerCarriage _lowerCarriage = null;

        //=====================================================================================================================
        // プロパティ
        //=====================================================================================================================
        public string ID => _id;

        //=====================================================================================================================
        // コンストラクタ
        //=====================================================================================================================
        public CannonBase(string id, GameObject root)
        {
            _id = id;
            _root = root;

            _animator = root.GetComponent<Animator>();
            if(_animator == null)
            {
                Debug.LogError($"{_root.name}からAnimatorが見つかりませんでした");
            }
        }

        //=====================================================================================================================
        // ライフサイクル関数
        //=====================================================================================================================
        public IEnumerator Initialize()
        {
            yield break;
        }

        public void FixedUpdate()
        {

        }

        public void Update()
        {

        }

        public void LateUpdate()
        {

        }

        public IEnumerator Termination()
        {
            yield break;
        }

        //=====================================================================================================================
        // Private関数
        //=====================================================================================================================

        //=====================================================================================================================
        // Public関数
        //=====================================================================================================================
        public void RotateLowerCarriage()
        {

        }

        public void RotateBarrel()
        {

        }

    } // CannonBase
}// namespace CannonShooting
