using System.Collections;
using System.Collections.Generic;
using UnityEngine;


/// <summary>
/// ICommandの実行クラス
/// </summary>
public class Invoker
{
    //=====================================================================================================================
    // 内部クラス・列挙型定義
    //=====================================================================================================================

    //=====================================================================================================================
    // 定数
    //=====================================================================================================================

    //=====================================================================================================================
    // 変数
    //=====================================================================================================================
    private Queue<ICommand> _commandQueue = new Queue<ICommand>();

    //=====================================================================================================================
    // プロパティ
    //=====================================================================================================================

    //=====================================================================================================================
    // コンストラクタ
    //=====================================================================================================================
    public Invoker()
    {

    }

    //=====================================================================================================================
    // Private関数
    //=====================================================================================================================

    //=====================================================================================================================
    // Public関数
    //=====================================================================================================================

    /// <summary>
    /// Queueにコマンドを追加します
    /// </summary>
    /// <param name="command"></param>
    public void AddCommand(ICommand command)
    {
        _commandQueue.Enqueue(command);
    }

    /// <summary>
    /// Queueされているすべてのコマンドを順次実行
    /// </summary>
    public void Execute()
    {
        while(_commandQueue.Count != 0)
        {
            var command = _commandQueue.Dequeue();
            command.Execute();
        }
    }
} // Invoker
